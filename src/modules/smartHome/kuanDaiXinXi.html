<div id="container-kuanDaiXinXi">
</div>
<script type="text/html" id="art-kuanDaiXinXi">
  <form>
    <div class="form-group">
      <div class="icon-label"><i class="iconfont icon-cuxiao"></i>
      </div>
      <div class="wrapper">
        <input class="form-control" data-toggle="select" placeholder="选择付费方式" type="text" name="payType" data-options="{{payTypes | toString}}" />
        <div class="other"><i class="iconfont icon-xiangyou1"></i>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="icon-label"><i class="iconfont icon-bianji"></i>
      </div>
      <div class="wrapper">
        <input class="form-control" data-toggle="select-popup" placeholder="请输入装机地址" type="text" name="address" />
        <div class="other"><i class="iconfont icon-saomiaoxianxing color-orange" onclick="KuanDaiXinXi.showModal1()"></i>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="icon-label"><i class="iconfont icon-cuxiao"></i>
      </div>
      <div class="wrapper">
        <input class="form-control" data-toggle="select" placeholder="选择光纤类型" type="text" name="lineType" data-options="{{lineTypes | toString}}" />
        <div class="other"><i class="iconfont icon-xiangyou1"></i>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="icon-label"><i class="iconfont icon-cuxiao"></i>
      </div>
      <div class="wrapper">
        <input class="form-control" data-toggle="select" placeholder="选择光猫类型" type="text" name="modemType" data-options="{{modemTypes | toString}}" />
        <div class="other"><i class="iconfont icon-xiangyou1"></i>
        </div>
      </div>
    </div>
    <div style="margin-top:1px;">
      <!-- Nav tabs -->
      <ul class="es-tabs line">
        <li role="presentation" class="active">
          <a href="#adsl" data-toggle="tab">ADSL</a>
        </li>
        <li role="presentation">
          <a href="#tianYiProduct" data-toggle="tab">天翼高清</a>
        </li>
      </ul>
      <!-- Tab panes -->
      <div style="padding-top:1px;">
        <div class="tab-pane active" id="adsl">
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-bianji"></i>
            </div>
            <div class="wrapper">
              <input class="form-control color-green" data-type="+n" data-help="设备串码错误" placeholder="请输入ONU设备串码" type="text" name="onu" />
              <div class="other">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-bianji"></i>
            </div>
            <div class="wrapper">
              <input class="form-control" data-toggle="select-popup" placeholder="请选择捆绑号码" type="text" readonly="" name="phoneNumber1" id="phoneNumber1-sdfw2ds"/>
              <div class="other"><i class="iconfont icon-saomiaoxianxing color-orange" onclick="KuanDaiXinXi.showModal2()"></i>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-bianji"></i>
            </div>
            <div class="wrapper">
              <input class="form-control color-green" data-type="chinese" placeholder="请输入市场维度" type="text" name="shiChangWeiDu" />
              <div class="other">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-jinggaoxianxing"></i>
            </div>
            <div class="wrapper">
              <input class="form-control" data-toggle="select" placeholder="是否即装即销" type="text" readonly="" name="activeType" data-options="{{activeTypes | toString}}" />
              <div class="other"><i class="iconfont icon-xiangyou1"></i>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-cuxiao"></i>
            </div>
            <div class="wrapper">
              <input class="form-control" data-toggle="select" placeholder="选择带宽" type="text" name="speedType" data-options="{{speedTypes  | toString}}" />
              <div class="other"><i class="iconfont icon-xiangyou1"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane" id="tianYiProduct">          
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-bianji"></i>
            </div>
            <div class="wrapper">
              <input class="form-control color-green" data-type="+n" placeholder="请输入天翼高清接入号" data-type="+n" data-help="接入号错误" type="text" name="tianYiGaoQingHao" required/>
              <div class="other">
              </div>
            </div>
          </div>          
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-bianji"></i>
            </div>
            <div class="wrapper">
              <input class="form-control color-green" placeholder="密码" data-type="+n" data-help="格式错误" type="password" name="password" />
              <div class="other">
              </div>
            </div>
          </div>          
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-bianji"></i>
            </div>
            <div class="wrapper">
              <input class="form-control color-green" placeholder="请输入天翼高清设备串码" data-type="+n" data-help="串码错误" type="text" name="tianYiGaoQingChuanMa" />
              <div class="other">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="icon-label"><i class="iconfont icon-bianji"></i>
            </div>
            <div class="wrapper">
              <input class="form-control" data-toggle="select-popup" placeholder="请选择捆绑号码" type="text" readonly="" name="phoneNumber2" id="phoneNumber2-sdfw2ds"/>
              <div class="other"><i class="iconfont icon-saomiaoxianxing color-orange" onclick="KuanDaiXinXi.showModal3()"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</script>
<script>
  var KuanDaiXinXi = function() {
    var initSelect = function() {
      $('#container-kuanDaiXinXi').find('input[data-toggle="select"],input[data-toggle="select-popup"]').each(function() {
        var $input = $(this);
        $input.addClass('transparent').after('<div class="input-label">' + $input.attr('placeholder') + '</div')
      })
    }
    template.helper('toString', function(value) {
      return JSON.stringify(value);
    });
    return {
      init: function() {
        //开始解析模板
        App.template({
          url: App.urls.smartHome.kuanDaiXinXi,
          art: 'art-kuanDaiXinXi',
          container: 'container-kuanDaiXinXi',
          data: {},
          cb: function() {
            //初始化每个data-toggle='select'组件，生成对应的div.input-label
            initSelect();
          }
        })
      },
      showModal1: function() {
        // App.modal({url: App.modules.smartHome.receipt})
        App.modal({
          url: App.modules.common.queryAddress,
          data: '#container-kuanDaiXinXi input[name="address"]'
        })
      },
      showModal2: function() {
        App.modal({
          url: App.modules.common.queryPhoneNumber,
          data: '#phoneNumber1-sdfw2ds'
        })
      },
      showModal3: function() {
        App.modal({
          url: App.modules.common.queryPhoneNumber,
          data: '#phoneNumber2-sdfw2ds'
        })
      }
    }
  }()
  KuanDaiXinXi.init();
</script>
