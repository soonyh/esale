<form id="container-taocan">
  <div class="weui-loadmore weui-loadmore_line">
    <span class="weui-loadmore__tips">暂无数据</span>
  </div>
</form>
<!-- 所有滚动刷新的容器 都需要包含下面2个DIV-->
<div class="weui-loadmore" style="display:none"> <i class="weui-loading"></i> <span class="weui-loadmore__tips">正在加载</span> </div>
<div class="noContent" style="display:none;"> <span class="weui-loadmore__tips">没有更多内容</span> </div>
<script type="text/html" id="art-taocan">
  {{if (list.length>0)}} {{ each list}}
  <div class="form-group">
    <div class="icon-label"><i class="iconfont icon-dingdanxianxing"></i>
    </div>
    <div class="wrapper">
      <div class="input-label" data-tips="{{$value.description}}" onClick="TaoCanLieBiao.showTips(this)">{{$value.title}}</div>
      <div class="other">
        <label>
          <input type="radio" name="taocan" value="{{$value.id}}" data-roles="{{$value.roles | toString}}">
          <i class="iconfont icon-danxuanweixuanzhong"></i>
        </label>
      </div>
    </div>
  </div>
  {{/each}} {{else}}  <div class="weui-loadmore weui-loadmore_line">
    <span class="weui-loadmore__tips">暂无数据</span>
  </div>{{/if}}
</script>
<script>
    template.helper('toString', function(value) {
      return JSON.stringify(value);
    });
  var TaoCanLieBiao = function() {

    return {
      init: function() {
        App.template({
          url: App.urls.newFusion.taoCanLieBiao,
          art: 'art-taocan',
          container: 'container-taocan',
          data: JSON.stringify({}),
          cb: function(data) {
          }
        })        
      },
      showTips: function(el) {
        var $this = $(el);
        if ($this.data('tips') == undefined) {
          return
        }
        if ($this.data('isShow') == undefined || $this.data('isShow') == false) {
          $this.data('isShow', true);
          var txt = $this.data('tips');
          $this.closest('.form-group').after('<div class="tips-block fadeIn animated">' + txt + '</div>')
        } else if ($this.data('isShow') == true) {
          $this.closest('.form-group').next('.tips-block').remove();
          $this.data('isShow', false);
        }
      },
      state: {
        loading: false,
        art: 'art-taocan',
        container: 'container-taocan'
      }
    }
  }()
  TaoCanLieBiao.init();
</script>
